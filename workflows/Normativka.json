{"createdAt":"2025-08-28T12:47:40.829Z","updatedAt":"2025-09-25T10:22:02.730Z","id":"PeBHZOK2sM7NEiQy","name":"Normativka_copy","active":false,"isArchived":false,"nodes":[{"parameters":{"method":"POST","url":"https://normativka.by/api/search","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"application/json, text/javascript, */*; q=0.01"},{"name":"Accept-Language","value":"ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7"},{"name":"Connection","value":"keep-alive"},{"name":"Cookie","value":"=PHPSESSID={{ $('Set Session Info').all()[0].json.PHPSESSID }}; uuk={{ $('Set Session Info').all()[0].json.uuk }}; nsid={{ $('Set Session Info').all()[0].json.nsid }}; browser-user=1; laravel_session=o7ZJ2TZXWRqfUaeNpBzGN7EhPrA9yRxe5PwgRTQN; max-right-panel=false; gtm-session-start=1748345946486; _ym_uid=1747637908561038406; _ym_d=1747637908; _gcl_au=1.1.829426738.1747637907; _gid=GA1.2.623737283.1748336774; _ym_isad=2; _ym_visorc=w; _ga=GA1.1.544493875.1747637906; _ga_7NSV683FKS=GS2.1.s1748345946$o16$g1$t1748345948$j58$l0$h0$dN2p3ZHNIBTKoZw0yrk3YoKp2AUidByYe_g; _gat_UA-19256274-1=1; _gat=1;"},{"name":"Origin","value":"https://normativka.by"},{"name":"Referer","value":"https://normativka.by/lib/"},{"name":"Sec-Fetch-Dest","value":"empty"},{"name":"Sec-Fetch-Mode","value":"cors"},{"name":"Sec-Fetch-Site","value":"same-origin"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0"},{"name":"X-KL-kes-Ajax-Request","value":"Ajax_Request"},{"name":"X-Requested-With","value":"XMLHttpRequest"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"130\", \"Microsoft Edge\";v=\"130\", \"Not?A_Brand\";v=\"99\""},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"sec-ch-ua-platform","value":"\"Windows\""}]},"sendBody":true,"contentType":"raw","rawContentType":"application/x-www-form-urlencoded; charset=UTF-8","body":"=isLibRequest=true&text={{ $json.output.replaceAll(' ','+') }}&sid=&titleOnly=false&onlyCount=false&changeNumber=1&uncorrectedQuery=&sort=common&documentCategoryListLink=or&documentCategoryList=1|6|7|12|&rubricLink=or&rubric=&docTypeLink=or&docType=&adoptionOrganLink=or&adoptionOrgan=&documentStatusLink=or&documentStatus=7|&approveFrom=&approveTill=&raw={}&searchForm={\"documentCategoryList\":{\"groupName\":\"–†–∞–∑–¥–µ–ª\",\"isActive\":true,\"items\":[{\"value\":1},{\"value\":6},{\"value\":7},{\"value\":12}],\"hideItems\":[]},\"rubric\":{\"groupName\":\"–†—É–±—Ä–∏–∫–∞\",\"isActive\":true,\"items\":[],\"hideItems\":[]},\"docType\":{\"groupName\":\"–í–∏–¥\",\"isActive\":true,\"items\":[],\"hideItems\":[]},\"adoptionOrgan\":{\"groupName\":\"–û—Ä–≥–∞–Ω –ø—Ä–∏–Ω—è—Ç–∏—è\",\"isActive\":true,\"items\":[],\"hideItems\":[]},\"searchMode\":{\"groupName\":\"–†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞\",\"isActive\":true,\"items\":[],\"hideItems\":[]},\"documentStatus\":{\"groupName\":\"–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞\",\"isActive\":true,\"items\":[{\"value\":7}],\"hideItems\":[]},\"dates\":{\"groupName\":\"–î–∞—Ç—ã\",\"isActive\":true,\"items\":[{\"name\":\"approveFrom\",\"value\":\"\"},{\"name\":\"approveTill\",\"value\":\"\"}],\"hideItems\":[]},\"textForms\":{\"groupName\":\"–¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è\",\"isActive\":true,\"items\":[],\"hideItems\":[]}}&isVisibleAllDocs=true&isCachedForm=1","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[432,1008],"id":"1d14a6ac-86e9-4755-a448-f6ef55b56c3e","name":"Search (POST)"},{"parameters":{"url":"https://normativka.by/api/search/result","sendQuery":true,"queryParameters":{"parameters":[{"name":"sid","value":"={{ $json.sid }}"},{"name":"length","value":"200"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"application/json, text/javascript, */*; q=0.01"},{"name":"Accept-Language","value":"ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7"},{"name":"Connection","value":"keep-alive"},{"name":"Cookie","value":"=PHPSESSID={{ $('Set Session Info').all()[0].json.PHPSESSID }}; uuk={{ $('Set Session Info').all()[0].json.uuk }}; nsid={{ $('Set Session Info').all()[0].json.nsid }}; gtm-session-start=1748345946486; browser-user=1; laravel_session=o7ZJ2TZXWRqfUaeNpBzGN7EhPrA9yRxe5PwgRTQN; max-right-panel=false; _ym_uid=1747637908561038406; _ym_d=1747637908; _gcl_au=1.1.829426738.1747637907; _gid=GA1.2.623737283.1748336774; _ym_isad=2; _gat=1; _gat_UA-19256274-1=1; _ym_visorc=w; _ga=GA1.1.544493875.1747637906; _ga_7NSV683FKS=GS2.1.s1748345946$o16$g1$t1748345948$j58$l0$h0$dN2p3ZHNIBTKoZw0yrk3YoKp2AUidByYe_g;"},{"name":"Referer","value":"=https://normativka.by/lib/search/sid/{{ $json.sid }}"},{"name":"Sec-Fetch-Dest","value":"empty"},{"name":"Sec-Fetch-Mode","value":"cors"},{"name":"Sec-Fetch-Site","value":"same-origin"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0"},{"name":"X-KL-kes-Ajax-Request","value":"Ajax_Request"},{"name":"X-Requested-With","value":"XMLHttpRequest"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"130\", \"Microsoft Edge\";v=\"130\", \"Not?A_Brand\";v=\"99\""},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"sec-ch-ua-platform","value":"\"Windows\""}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[640,1008],"id":"e73614d9-959c-461b-bddb-cf628ce10bd3","name":"Result (GET)","retryOnFail":false,"onError":"continueErrorOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[672,1696],"id":"58858b93-5dab-4f1a-8c0f-a57ade3c1477","name":"Default Data Loader"},{"parameters":{"chunkSize":500,"chunkOverlap":50,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[544,1712],"id":"d882143f-9c2e-441c-8db2-ff2cd93ca455","name":"Recursive Character Text Splitter"},{"parameters":{"options":{"dimensions":1536,"timeout":300000}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[416,1696],"id":"343581d9-174b-4f86-925c-5af3c9b487b9","name":"Embeddings OpenAI"},{"parameters":{"jsCode":"// 1. –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –≤—Ö–æ–¥–∞\nconst item = $input.all()[0];\n\n// 2. –ò–∑–≤–ª–µ–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏\nconst headers = item.json.headers;\nconst contentDisposition = headers['content-disposition'] || '';\n\n// 3. –ü–∞—Ä—Å–∏–º –∏–º—è —Ñ–∞–π–ª–∞\nlet messedUpName = '';\nconst filenameMatch = contentDisposition.match(/filename=\"(.*?)\"/i);\nif (filenameMatch) messedUpName = filenameMatch[1];\n\n// 4. –î–µ–∫–æ–¥–∏—Ä—É–µ–º –∏–º—è —Ñ–∞–π–ª–∞\nlet fixedName = Buffer.from(messedUpName, 'binary').toString('utf8');\n\n// 5. –ß–∏—Å—Ç–∏–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã\nfixedName = fixedName\n  .replace(/\\s{2,}/g, ' ')         // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –¥–≤–æ–π–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã\n  .replace(/√¢¬Ñ¬ñ/g, '‚Ññ')            // –ó–∞–º–µ–Ω—è–µ–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –Ω–∞ —Å–∏–º–≤–æ–ª –Ω–æ–º–µ—Ä–∞\n  .replace(/[^\\p{L}\\d\\s\\-().‚Ññ]/gu, '') // –£–¥–∞–ª—è–µ–º –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã\n  .trim();\n\n// 6. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª\nitem.binary.data.fileName = fixedName\n\n// 7. –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è Supabase\nitem.json.fileName = fixedName;\nitem.json.contentType = \"application/pdf\";\n\n// 8. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç\nreturn item;\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[112,1488],"id":"ee8e2129-f599-4afa-a9b4-e94241392c75","name":"Change File Name"},{"parameters":{"operation":"pdf","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[336,1488],"id":"9acdd890-a659-4c5c-951a-9a88c3f934c9","name":"Extract from PDF"},{"parameters":{"url":"={{ $json.url }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:126.0) Gecko/20100101 Firefox/126.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3"},{"name":"Accept-Encoding","value":"gzip, deflate, br, zstd"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"=https://normativka.by/lib/document/{{ $json.id }}/sid/{{ $('Search (POST)').all()[0].json.sid }}"},{"name":"Cookie","value":"=uuk={{ $('Set Session Info').all()[0].json.uuk }}; _gcl_au=1.1.764429814.1749155858; _ga_7NSV683FKS=GS2.1.s1749495366$o6$g1$t1749496512$j60$l0$h0; _ga=GA1.2.929754525.1749155859; _ym_uid=1749155865234854205; _ym_d=1749155865; PHPSESSID={{ $('Set Session Info').all()[0].json.PHPSESSID }}; nsid={{ $('Set Session Info').all()[0].json.nsid }}; browser-user=1; laravel_session=kOzMFOs20DWxZ3cNdcGIWlhxxlPGKlfVCQyRWCDQ; gtm-session-start=1749495365530; _gid=GA1.2.928483435.1749495367; _ym_isad=2; _ym_visorc=w; _gat=1; _gat_UA-19256274-1=1"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Sec-Fetch-Dest","value":"document"},{"name":"Sec-Fetch-Mode","value":"navigate"},{"name":"Sec-Fetch-Site","value":"same-origin"},{"name":"Sec-Fetch-User","value":"?1"},{"name":"Priority","value":"u=1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}]},"options":{"response":{"response":{"fullResponse":true}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-288,1504],"id":"b3e8771a-b4d0-4f58-9ad4-4ed9dfe79d6a","name":"GET PDF FILE","retryOnFail":false,"onError":"continueErrorOutput"},{"parameters":{"content":"## –ü–æ–∏—Å–∫ –ø–æ –ø–µ—Ä–≤–æ–π —Ç–µ–º–µ","height":80,"width":210},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[352,896],"id":"60840e67-42de-4916-83b3-022c8c552e98","name":"Sticky Note3"},{"parameters":{"content":"## –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞","height":80,"width":290},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[608,1168],"id":"0e84e181-c1b6-4e40-8215-3a015e37a4bc","name":"Sticky Note5"},{"parameters":{"content":"## –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å—É—Ç–∏ –ù–ü–ê –∏–∑ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è (–±–µ–∑ –Ω–æ–º–µ—Ä–æ–≤ –∏ –¥–∞—Ç) –¥–ª—è –ø–æ–∏—Å–∫–∞","height":300,"width":370},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-480,864],"id":"f1ea496a-7437-4b73-8c20-7b930b284338","name":"Sticky Note7"},{"parameters":{"assignments":{"assignments":[{"id":"afb70b25-396d-4e4f-b638-76e7599be9a1","name":"message.caption","value":"={{ $('Telegram Trigger').all()[0].json.message.text }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-288,1920],"id":"2facff1c-a6f8-40da-b9ec-bd1eba69d1c9","name":"Edit Fields1"},{"parameters":{"content":"–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ SupaBase, \n–ø—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–æ–¥–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—ã—Ö–æ–¥ \n–æ—Ç–¥–∞—ë—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. \n–û–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö –≤—Å–µ—Ö –≤ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç","height":120,"width":320},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-496,1776],"id":"721d88dd-1e17-4a56-afad-19c66bf38ae2","name":"Sticky Note8"},{"parameters":{"content":"","height":140,"width":150},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-496,1904],"id":"8a3d9383-0a4c-4b1c-8a4b-fcc06c69970b","name":"Sticky Note9"},{"parameters":{"jsCode":"\nconst combined = {};\n\n$('Post to Supabase Vector Store').all().forEach((item, index) => {\n  combined[`item${index + 1}`] = item.json;\n});\n\nreturn [{ json: combined }];\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-464,1920],"id":"42c74b12-14bd-47a8-97bf-44fa8a2a8d13","name":"Combine All Elements","notesInFlow":false,"notes":"–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ SupaBase, –ø—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–æ–¥–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—ã—Ö–æ–¥ –æ—Ç–¥–∞—ë—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –û–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö –≤—Å–µ—Ö –≤ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"documents","mode":"list","cachedResultName":"documents"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[560,1488],"id":"f8d0f4ff-f361-4782-9a53-8be8d74e8e16","name":"Post to Supabase Vector Store","executeOnce":false,"credentials":{"supabaseApi":{"id":"eZuwXwBjp6iHSkpc","name":"Supabase account"}}},{"parameters":{"model":{"__rl":true,"value":"gpt://b1g9v3gfrgpacf17n0e9/yandexgpt/latest","mode":"id"},"options":{"maxTokens":4000,"temperature":0.2}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-432,1168],"id":"7b791e6e-ce72-4622-967c-d2e1a8ef8d14","name":"Yandex GPT"},{"parameters":{"promptType":"define","text":"={{ $json.act }}","options":{"systemMessage":"=–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –î–ï–¢–ê–õ–¨–ù–û, –í–ü–õ–û–¢–¨ –î–û –ö–ê–î–û–ì–û –ó–ù–ê–ö–ê –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç.\n–í—ã–¥–µ–ª–∏ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ï –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è –≤ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–µ.\n–ï—Å–ª–∏ —Ç–µ–º—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ —Ñ–æ—Ä–º–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞,\n–ø–µ—Ä–µ–≤–µ–¥–∏ –∏—Ö –≤ —Ñ–æ—Ä–º—É –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞.\n–í–µ—Ä–Ω–∏ —ç—Ç–∏ —Ç–µ–º—ã.\n\n\n–ì–†–ê–ú–û–¢–ù–û–ï –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –¢–ï–ú–´\n–ü—Ä–∏–º–µ—Ä ‚Ññ1:\n  –ù–∞ –≤—Ö–æ–¥–µ:  \"–ñ–∏–ª–∏—â–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å\"\n  –ù–∞ –≤—ã—Ö–æ–¥–µ: \"–ñ–∏–ª–∏—â–Ω—ã–π –∫–æ–¥–µ–∫—Å\"\n\n–ü—Ä–∏–º–µ—Ä ‚Ññ2:\n  –ù–∞ –≤—Ö–æ–¥–µ:  \"–ó–∞–∫–æ–Ω –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å –æ—Ç 24 –∞–ø—Ä–µ–ª—è 1992 –≥. ‚Ññ 1512-XII ¬´–û —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç–µ –∏–Ω–≤–∞–ª–∏–¥–æ–≤ –≤ –†–µ—Å–ø—É–±–ª–∏–∫–µ –ë–µ–ª–∞—Ä—É—Å—å¬ª\"\n  –ù–∞ –≤—ã—Ö–æ–¥–µ: \"–ó–∞–∫–æ–Ω ¬´–û —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç–µ –∏–Ω–≤–∞–ª–∏–¥–æ–≤ –≤ –†–µ—Å–ø—É–±–ª–∏–∫–µ –ë–µ–ª–∞—Ä—É—Å—å¬ª\"\n\n–ü—Ä–∏–º–µ—Ä ‚Ññ3:\n  –ù–∞ –≤—Ö–æ–¥–µ: \"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –°–æ–≤–µ—Ç–∞ –ú–∏–Ω–∏—Å—Ç—Ä–æ–≤ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å –æ—Ç 29 –¥–µ–∫–∞–±—Ä—è 2022 –≥. ‚Ññ 835 ¬´–û –∫—Ä–∏—Ç–µ—Ä–∏—è—Ö –∏ –ø–µ—Ä–µ—á–Ω–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≥—Ä–∞–∂–¥–∞–Ω, –∏–º–µ—é—â–∏—Ö –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª—å–≥–æ—Ç –ø–æ –æ–ø–ª–∞—Ç–µ –∂–∏–ª–∏—â–Ω–æ-–∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ –∏ —Ç–æ–ø–ª–∏–≤–∞, –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ñ–æ—Ä–º –∑–∞—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ª—å–≥–æ—Ç –∏ –∑–∞—è–≤–ª–µ–Ω–∏–π –æ –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç–µ –ø–ª–∞—Ç—ã –∑–∞ –∂–∏–ª–∏—â–Ω–æ-–∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏¬ª\"\n  –ù–∞ –≤—ã—Ö–æ–¥–µ: \"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ ¬´–û –∫—Ä–∏—Ç–µ—Ä–∏—è—Ö –∏ –ø–µ—Ä–µ—á–Ω–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≥—Ä–∞–∂–¥–∞–Ω, –∏–º–µ—é—â–∏—Ö –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª—å–≥–æ—Ç –ø–æ –æ–ø–ª–∞—Ç–µ –∂–∏–ª–∏—â–Ω–æ-–∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ –∏ —Ç–æ–ø–ª–∏–≤–∞, –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ñ–æ—Ä–º –∑–∞—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ª—å–≥–æ—Ç –∏ –∑–∞—è–≤–ª–µ–Ω–∏–π –æ –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç–µ –ø–ª–∞—Ç—ã –∑–∞ –∂–∏–ª–∏—â–Ω–æ-–∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏¬ª\""}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[-448,1008],"id":"76c93676-e715-40b6-87b9-61d2f0f2be54","name":"Yandex GPT Create Themes"},{"parameters":{"method":"DELETE","url":"https://qlgtwudbtlcwesdaojtr.supabase.co/rest/v1/documents","sendQuery":true,"queryParameters":{"parameters":[{"name":"id","value":"gt.0"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsZ3R3dWRidGxjd2VzZGFvanRyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODYxMDUxNCwiZXhwIjoyMDY0MTg2NTE0fQ.L8qkHbJBTgscdGjWCjDK_lzEis_48kNFAc9VzcDy4zE"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsZ3R3dWRidGxjd2VzZGFvanRyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODYxMDUxNCwiZXhwIjoyMDY0MTg2NTE0fQ.L8qkHbJBTgscdGjWCjDK_lzEis_48kNFAc9VzcDy4zE"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1008,1984],"id":"721b48bd-a8ae-4b36-b8a0-ab337010a876","name":"–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –ë–î SupaBase"},{"parameters":{"chatId":"={{ $('Telegram Trigger').all()[0].json.message.chat.id }}","text":"={{ $json.escaped_text }}","additionalFields":{"appendAttribution":false,"parse_mode":"MarkdownV2"}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2208,1184],"id":"a0d93c30-a047-4c37-accb-34cff2488c60","name":"On Error","webhookId":"7ce4eba0-a513-4a42-ab29-6e705573ef76"},{"parameters":{"model":{"__rl":true,"value":"gpt://b1g9v3gfrgpacf17n0e9/yandexgpt/latest","mode":"id"},"options":{"maxTokens":4000,"temperature":0.2}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1744,1344],"id":"3090b8c8-afff-4b6e-bda9-7bd4a589e04b","name":"Yandex GPT2"},{"parameters":{"promptType":"define","text":"={{ $json.error }}","options":{"systemMessage":"=–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –î–ï–¢–ê–õ–¨–ù–û, –í–ü–õ–û–¢–¨ –î–û –ö–ê–ñ–î–û–ì–û –ó–ù–ê–ö–ê –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.\n–î–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤—ã–¥–∞–ª —É–∑–µ–ª \"{{ $json.NodeName }}\"\n–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–æ–∫–º–µ–Ω—Ç–æ–º {{ $json.ActName }}\n–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ö–†–ê–¢–ö–û –Ω–∞–ø–∏—à–∏ –°–£–¢–¨ –æ—à–∏–±–∫–∏\n–î–∞–π –ö–†–ê–¢–ö–û–ï –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏.\n–ë–ï–ó —Ç–≤–æ–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π. \n–ë–ï–ó —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞.\n–ë–ï–ó –∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–π.\n–ò–≥–Ω–æ—Ä–∏—Ä—É–π –∫–ª—é—á \"stack\" –ü–û–õ–ù–û–°–¢–¨–Æ\n–ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û —Å—É—Ç—å –æ—à–∏–±–∫–∏ –∏ –∫—Ä–∞—Ç–∫–æ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ\n\n–ü—Ä–∏–º–µ—Ä –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:\n\"\n!!! –í–Ω–∏–º–∞–Ω–∏–µ !!!\nWorkflow –∑–∞–∫–æ–Ω—á–∏–ª —Ä–∞–±–æ—Ç—É —Å –æ—à–∏–±–∫–æ–π\n‚óè –£–∑–µ–ª:\n  \"GET PDF FILE\"\n‚óè –î–æ–∫—É–º–µ–Ω—Ç (–µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω):\n  \"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Ññ123 –æ—Ç 2021.01.01\"\n‚óè –°—É—Ç—å –æ—à–∏–±–∫–∏:\n  HTTP 404 (Not Found) ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π PDF-—Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\n‚óè –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –ø—Ä–∏—á–∏–Ω–∞:\n  –ù–µ–≤–µ—Ä–Ω—ã–π URL, –ø–µ—Ä–µ–º–µ—â—ë–Ω–Ω—ã–π –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Ñ–∞–π–ª\n\""}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[1744,1184],"id":"bae1bdab-3b00-47ea-8d8d-38c57df8af16","name":"Yandex GPT Create Answer1"},{"parameters":{"content":"## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫","height":360,"width":940,"color":3},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1664,1120],"id":"9822f212-ebad-406d-99d0-032cd254fc2e","name":"Sticky Note12"},{"parameters":{"jsCode":"const text = $input.first().json.output;\nconst escaped = text.replace(/[_*[\\]()~`>#+\\-=|{}.!]/g, '\\\\$&');\nreturn { json: { escaped_text: escaped } };"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2032,1184],"id":"ddf63ce9-9b91-4c1c-be98-c0275661e03b","name":"–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü.—Å–∏–º–≤–æ–ª–æ–≤"},{"parameters":{"model":{"__rl":true,"value":"gpt://b1g9v3gfrgpacf17n0e9/yandexgpt/latest","mode":"id"},"options":{"maxTokens":4000,"temperature":0.2}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-448,704],"id":"4a2c9f29-097a-4815-80c8-0d6660ba427b","name":"Yandex GPT instance 1"},{"parameters":{"promptType":"define","text":"={{ $json.message.text }}","options":{"systemMessage":"=–†–û–õ–¨\n–¢—ã ‚Äî –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –í–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å. \n\n–ö–û–ù–¢–ï–ö–°–¢\n- –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∫–∞—Å–∞—é—Ç—Å—è –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–ë\n- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–ª—å–Ω–µ–π—à—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:\n  ‚Ä¢ STATIC_FACT/STATIC_CASE ‚Üí –ë–∞–∑—ã –∑–Ω–∞–Ω–∏–π/—à–∞–±–ª–æ–Ω—ã\n  ‚Ä¢ DYNAMIC_CASE ‚Üí –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ù–ü–ê\n- –¢–æ—á–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ workflow\n\n–ó–ê–î–ê–ß–ê\n–ü—Ä–∏—Å–≤–æ–π –æ–¥–Ω—É –∏–∑ –º–µ—Ç–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä–æ–≥–∏—Ö –ø—Ä–∞–≤–∏–ª:\n\n1. üîπ STATIC_FACT –µ—Å–ª–∏:\n   - –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å: \"–ß—Ç–æ —Ç–∞–∫–æ–µ\"/\"–ö–∞–∫–∞—è —Å—Ç–∞—Ç—å—è\"/\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ\"\n   - –°–æ–¥–µ—Ä–∂–∏—Ç: \"—Ñ–æ—Ä–º—É–ª–∞\"/\"–∏—Å—Ç–æ—Ä–∏—è\"/\"—Ç–µ–æ—Ä–∏—è\"/\"–ø–æ–Ω—è—Ç–∏–µ\"\n   ‚ñ∂ –ü—Ä–∏–º–µ—Ä: \"–ò—Å—Ç–æ—Ä–∏—è –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –†–ë\"\n\n2. üîπ DYNAMIC_CASE –µ—Å–ª–∏:\n   - –¢–µ—Ä–º–∏–Ω—ã: –ª—å–≥–æ—Ç—ã/–Ω–∞–ª–æ–≥/–≤—ã–ø–ª–∞—Ç–∞/–ø–æ—Å–æ–±–∏–µ/–ë–ü–ú/—Ç–∞—Ä–∏—Ñ/–ø–æ—à–ª–∏–Ω–∞/–∫–≤–æ—Ç–∞/—Å—Ç–∞–≤–∫–∞/–∫–æ–º–∏—Å—Å–∏—è/—Å—É–±—Å–∏–¥–∏—è/—Å–∞–Ω–∫—Ü–∏–∏/—à—Ç—Ä–∞—Ñ—ã/–∞–∫—Ü–∏–∑/—Å–±–æ—Ä/–µ–¥–∏–Ω—ã–π –Ω–∞–ª–æ–≥\n   - + –õ—é–±–æ–µ –∏–∑:\n     ‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã: 2024/–∞–∫—Ç—É–∞–ª—å–Ω—ã–π/–Ω–æ–≤—ã–π/–ø–æ—Å–ª–µ [–¥–∞—Ç–∞]\n     ‚Ä¢ –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏: —Ä–∞–∑–º–µ—Ä/—Å—Ç–∞–≤–∫–∞/—Å—É–º–º–∞/–ø—Ä–æ—Ü–µ–Ω—Ç/–±–∞–∑–∞\n   - –ò–õ–ò: –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã: –ï–ù–í–î/–ù–î–°/–ë–ü–ú\n   ‚ñ∂ –ü—Ä–∏–º–µ—Ä: \"–†–∞–∑–º–µ—Ä –ë–ü–ú —Å 01.01.2024\"\n\n3. üîπ STATIC_CASE –µ—Å–ª–∏:\n   - –¢–µ—Ä–º–∏–Ω—ã: –ø–æ—Ä—è–¥–æ–∫/–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è/–∞–ª–≥–æ—Ä–∏—Ç–º/–ø–µ—Ä–µ—á–µ–Ω—å/—Å–ø–∏—Å–æ–∫/–¥–æ–∫—É–º–µ–Ω—Ç—ã/—É—Å–ª–æ–≤–∏—è/—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è\n   - –ì–ª–∞–≥–æ–ª—ã: —Å–æ—Å—Ç–∞–≤–∏—Ç—å/–ø–æ–¥–∞—Ç—å/–æ—Ñ–æ—Ä–º–∏—Ç—å/–æ–±–∂–∞–ª–æ–≤–∞—Ç—å/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å/–ø–æ–ª—É—á–∏—Ç—å\n   ‚ñ∂ –ü—Ä–∏–º–µ—Ä: \"–ü–µ—Ä–µ—á–µ–Ω—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ª–∏—Ü–µ–Ω–∑–∏–∏\"\n\n–ü–†–ê–í–ò–õ–ê –ü–†–ò–û–†–ò–¢–ï–¢–ê\n1. DYNAMIC_CASE > STATIC_CASE > [–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —Ç–µ—Ä–º–∏–Ω + –î–∏–Ω–∞–º–∏—á–Ω—ã–π —Ç–µ—Ä–º–∏–Ω + –í—Ä–µ–º—è] >   STATIC_FACT\n2. –ü—Ä–∏–º–µ—Ä: \n   - \"–ß—Ç–æ —Ç–∞–∫–æ–µ –ï–ù–í–î?\" ‚Üí STATIC_FACT (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)\n   - \"–ü–æ—Ä—è–¥–æ–∫ —É–ø–ª–∞—Ç—ã –ï–ù–í–î –≤ 2024\" ‚Üí DYNAMIC_CASE (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è)\n\n–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê\n- –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–ª–æ–≤–æ: STATIC_FACT, STATIC_CASE –∏–ª–∏ DYNAMIC_CASE\n- –ë–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π, –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\n\n–û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø\n- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–∫\n- –ù–µ–ø—Ä–∞–≤–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Üí STATIC_FACT\n- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å: –æ–ø–µ—á–∞—Ç–∫–∏, —Ä–µ–≥–∏—Å—Ç—Ä —Å–ª–æ–≤, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è\n- –ü—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é\n- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 500 –º—Å\n\n–ü–†–ò–ú–ï–†–´ –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–ò\n‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ:\n1. –í–æ–ø—Ä–æ—Å: \"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –ø–æ–¥—Ä—è–¥–∞\" ‚Üí STATIC_FACT\n2. –í–æ–ø—Ä–æ—Å: \"–°—Ç–∞–≤–∫–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–ª–æ–≥–∞ –≤ 2024\" ‚Üí DYNAMIC_CASE\n3. –í–æ–ø—Ä–æ—Å: \"–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ?\" ‚Üí STATIC_CASE\n4. –í–æ–ø—Ä–æ—Å: \"–ü–æ—Ä—è–¥–æ–∫ —Ä–∞—Å—á–µ—Ç–∞ –ï–ù–í–î –¥–ª—è –ò–ü\" ‚Üí DYNAMIC_CASE (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è)\n5. –í–æ–ø—Ä–æ—Å: \"–°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∏–∑—ã\" ‚Üí STATIC_CASE\n\n‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ (–æ—à–∏–±–æ—á–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏):\n1. –í–æ–ø—Ä–æ—Å: \"–ù–∞–ª–æ–≥–æ–≤—ã–µ –ª—å–≥–æ—Ç—ã –≤–µ—Ç–µ—Ä–∞–Ω–∞–º\" \n   - ‚ùå STATIC_CASE (–≤–µ—Ä–Ω–æ: DYNAMIC_CASE - —Ç–µ—Ä–º–∏–Ω—ã \"–ª—å–≥–æ—Ç—ã\", –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã)\n   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: DYNAMIC_CASE\n\n2. –í–æ–ø—Ä–æ—Å: \"–ö–∞–∫ –ø–ª–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–≥ –≤ 2024?\"\n   - ‚ùå DYNAMIC_CASE (–≤–µ—Ä–Ω–æ: STATIC_CASE - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≥–ª–∞–≥–æ–ª–∞ \"–ø–ª–∞—Ç–∏—Ç—å\" –Ω–∞–¥ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–∞—Ä–∫–µ—Ä–æ–º)\n   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: STATIC_CASE\n\n3. –í–æ–ø—Ä–æ—Å: \"–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å–±–æ—Ä–∞\"\n   - ‚ùå DYNAMIC_CASE (–≤–µ—Ä–Ω–æ: STATIC_FACT - –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ \"–∏—Å—Ç–æ—Ä–∏—è\")\n   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: STATIC_FACT\n\n4. –í–æ–ø—Ä–æ—Å: \"–£—Å–ª–æ–≤–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞ –∞—Ä–µ–Ω–¥—ã\"\n   - ‚ùå STATIC_FACT (–≤–µ—Ä–Ω–æ: STATIC_CASE - —Ç–µ—Ä–º–∏–Ω \"—É—Å–ª–æ–≤–∏—è\" –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º)\n   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: STATIC_CASE\n\n5. –í–æ–ø—Ä–æ—Å: \"–°—Ä–æ–∫–∏ –ø–æ–¥–∞—á–∏ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏\"\n   - ‚ùå DYNAMIC_CASE (–≤–µ—Ä–Ω–æ: STATIC_CASE - \"—Å—Ä–æ–∫–∏\" = –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)\n   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: STATIC_CASE"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[-448,528],"id":"2433430c-1234-48c5-a8d8-d0d76b7866aa","name":"Yandex GPT Create Answer3"},{"parameters":{"content":"## –ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã","height":280,"width":180},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[400,544],"id":"e00d620b-b2c6-4882-a7cc-0fe23510ed2f","name":"Sticky Note19"},{"parameters":{"chatId":"={{ $('Telegram Trigger').all()[0].json.message.chat.id }}","text":"={{ $json.escaped_text }}","additionalFields":{"appendAttribution":false,"parse_mode":"MarkdownV2"}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1456,1904],"id":"3d47f6d5-ba0b-49d5-8e91-b935c3cbf106","name":"Send Answer1","webhookId":"6552e2b0-06f8-4716-92e5-aceac53df2cf","credentials":{"telegramApi":{"id":"hnGinHPNsrJzL0wn","name":"Perplexity_For_Vera"}}},{"parameters":{"jsCode":"{{\nconst text = $input.first().json.output;\nconst escaped = text.replace(/[_*[\\]()~`>#+\\-=|{}.!]/g, '\\\\$&');\nreturn { json: { escaped_text: escaped } };\n}}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[736,1904],"id":"ebb64206-015f-4450-89eb-2270e4275707","name":"Code2"},{"parameters":{"jsCode":"const docID = $json.data.items[0].id;\nconst revNumber = $input.all()[0].json.data.items[0].revisionDate\n        .split('.').reverse().join('') + '00';\n\nconst baseUrl = 'https://normativka.by';\n\nconst url = `${baseUrl}`              +\n            `/api/download/download/` +\n            `id/${docID}/`            +\n            `rev/${revNumber}/`       +\n            `format/PDF/`             +\n            `diff/false/`             +\n            `isCommentEnabled/true`;\n\nreturn {'url':url,\n       'id':docID};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-464,1504],"id":"9c6994c6-b513-4501-b2ba-8acb9f76bd70","name":"Prepare URL For Download Docs"},{"parameters":{"assignments":{"assignments":[{"id":"dfc809c7-e7ee-4036-ab97-7e16a985cc48","name":"NodeName","value":"Get PDF File","type":"string"},{"id":"6ce55a1f-fc4b-4ead-94c5-32b6e56082d0","name":"ActName","value":"={{ $('Search (POST)').all()[0].json.query }}","type":"string"},{"id":"dde9ce3f-d4d4-4c72-99ff-e84c385ec537","name":"error","value":"={{ $json.error }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1456,1344],"id":"70232e42-2330-4a60-a6d8-56cdc3903823","name":"Get PDF File Error"},{"parameters":{"assignments":{"assignments":[{"id":"fce57bd5-e546-4e33-aae1-a184ea803248","name":"message.text","value":"={{ $('Telegram Trigger').item.json.message.text }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[432,688],"id":"74df65db-ba4c-4c73-a73d-fe4ab868bf32","name":"Get Open-Ended Question"},{"parameters":{"assignments":{"assignments":[{"id":"dfc809c7-e7ee-4036-ab97-7e16a985cc48","name":"NodeName","value":"Result (GET)","type":"string"},{"id":"dde9ce3f-d4d4-4c72-99ff-e84c385ec537","name":"error","value":"={{ $json.error }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1456,1024],"id":"0af12a80-a216-49c3-80af-f00fbb0cca7b","name":"Result (GET) Error"},{"parameters":{"assignments":{"assignments":[{"id":"a2ca8be0-86bd-40bb-9939-f86e12d71194","name":"limit","value":"={{ $json.limit || 300 }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[112,1920],"id":"180be02b-5db0-4cb4-bf97-1d2556677545","name":"Set Limit"},{"parameters":{"content":"","width":150},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[720,1888],"id":"cfad95dd-b9e5-4a97-bb8c-0e2e29a0a954","name":"Sticky Note24"},{"parameters":{"content":"## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—É–∫\nddw@tut.by 6358747","height":280,"width":310},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[80,544],"id":"29d86e8c-c2f1-413f-8a23-46fa83143fcc","name":"Sticky Note25"},{"parameters":{"method":"POST","url":"https://normativka.by/user/login-ssl/?redirect=/lib/&callback=jQuery341042201408929593276_1747639615719","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\""},{"name":"Accept-Language","value":"ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7"},{"name":"Content-Type","value":"application/x-www-form-urlencoded; charset=UTF-8"},{"name":"X-Requested-With","value":"XMLHttpRequest"},{"name":"X-KL-kes-Ajax-Request","value":"Ajax_Request"},{"name":"Origin","value":"https://normativka.by"},{"name":"Referer","value":"https://normativka.by/"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"UserLogin","value":"ddw@tut.by"},{"name":"UserPass","value":"6358747"}]},"options":{"response":{"response":{"fullResponse":true}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[112,688],"id":"6e1b73af-b82c-4d81-9619-3d471beb86f0","name":"Auth","alwaysOutputData":false},{"parameters":{"assignments":{"assignments":[{"id":"c1793942-89be-4559-b047-e287347a5c92","name":"PHPSESSID","value":"={{ $json.headers[\"set-cookie\"][0].split(';')[0].split('=')[1] }}","type":"string"},{"id":"cbcb23de-9355-4446-abd0-9439cb3655e7","name":"uuk","value":"={{ $json.headers[\"set-cookie\"][2].split(';')[0].split('=')[1] }}","type":"string"},{"id":"54323ebc-7fed-491f-87bf-f2bfcb3d8d40","name":"nsid","value":"={{ $json.headers[\"set-cookie\"][3].split(';')[0].split('=')[1] }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[240,688],"id":"e5c1faa9-f5ec-4acb-b0e6-6daf57f3cb20","name":"Set Session Info"},{"parameters":{"content":"## –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –¥–ª–∏–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —É–º–µ–Ω—å—à–∞–µ–º –ª–∏–º–∏—Ç","height":80,"width":380},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-192,2112],"id":"56c5142c-77ad-4562-a81d-e4e03e5a964d","name":"Sticky Note26"},{"parameters":{"content":"","width":150},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-96,1952],"id":"239c1327-8d14-4a40-b718-39949e9a7f74","name":"Sticky Note27"},{"parameters":{"content":"## –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤","height":80},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[720,2048],"id":"d666c5e9-5e1e-4b47-b90a-c91983e61121","name":"Sticky Note28"},{"parameters":{"jsCode":"const limit = Number($('Set Limit').all()[0].json.limit);\nconst newLimit = Math.floor(limit * 0.9);\n//const prevData = items[0].json.previousItem.json;\n//console.log(prevData);\n\nreturn {\"limit\":newLimit}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-80,1984],"id":"0faf2d1c-a59a-4b0c-b4fa-66a902244d8a","name":"YandexGPT Error","executeOnce":true},{"parameters":{"updates":["*"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[-640,528],"id":"588ce58e-c5f2-4577-b850-11b44cd1d129","name":"Telegram Trigger","webhookId":"0f3688f3-355b-4dea-bea0-af168c7d8f07","credentials":{"telegramApi":{"id":"hnGinHPNsrJzL0wn","name":"Perplexity_For_Vera"}}},{"parameters":{"content":"","height":200,"width":170},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[400,976],"id":"9807f8ab-65a6-4e88-b182-580add97f463","name":"Sticky Note30"},{"parameters":{"content":"","height":200,"width":170},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[608,976],"id":"8d9c264c-60bd-4171-86c2-c72f0bd75bac","name":"Sticky Note31"},{"parameters":{"jsCode":"const items = $input.all()[0].json.data.items\nconsole.log(items.length)\nitems.map(item => console.log(item.title))\n\nreturn {\"!!!\":\"See Logs\"};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1264,896],"id":"fab5fe50-b09e-4efa-84a5-d7dcb127f561","name":"Log All Names","disabled":true},{"parameters":{"options":{"reset":false}},"id":"ac3933c0-d73b-40e4-9461-8bc24169981d","name":"Loop Over Items","type":"n8n-nodes-base.splitInBatches","position":[112,1008],"typeVersion":3},{"parameters":{"conditions":{"boolean":[{"value1":"={{$node[\"Loop Over Items\"].context[\"noItemsLeft\"]}}","value2":true}]}},"id":"6e960835-402b-4fff-af17-e59ca7b6d7b1","name":"Done looping?","type":"n8n-nodes-base.if","position":[928,1488],"typeVersion":1},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[1152,1504],"id":"e0da0493-b4d3-4462-a9bc-1671f5f416c2","name":"..."},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[1264,1024],"id":"b25ef6d9-0f4c-40d5-b9aa-b8646b118e0a","name":"Error."},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[112,1344],"id":"d13b8724-3c31-4978-8bf3-a18db42db71c","name":"Error.."},{"parameters":{"model":{"__rl":true,"value":"gpt://b1g9v3gfrgpacf17n0e9/yandexgpt/latest","mode":"id"},"options":{"maxTokens":4000,"temperature":0.1}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[848,848],"id":"3c3a704a-8b17-4ce9-887f-62dd9784d000","name":"Yandex GPT instance 9"},{"parameters":{"content":"## –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ù–ü–ê","height":444,"width":410},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[816,544],"id":"31ba167b-ffd7-4bf7-afc0-eeeadf3cf5e7","name":"Sticky Note34"},{"parameters":{"promptType":"define","text":"={{ $json.message.text }}","hasOutputParser":true,"options":{"systemMessage":"=### –°–ò–°–¢–ï–ú–ù–ê–Ø –†–û–õ–¨ –ò –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø ###\n–¢—ã ‚Äî –ò–ò-—é—Ä–∏—Å—Ç –ø–æ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–º—É –∏ —Ç—Ä—É–¥–æ–≤–æ–º—É –ø—Ä–∞–≤—É –†–ë. –°–¢–†–û–ì–û –°–û–ë–õ–Æ–î–ê–ô:\n1. –í—ã–≤–æ–¥ –¢–û–õ–¨–ö–û —Å–ø–∏—Å–∫–∞ –ù–ü–ê (–±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π!)\n2. –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ï –ö–û–õ–ò–ß–ï–°–¢–í–û —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n3. –¢–û–ß–ù–´–ï –†–ï–ö–í–ò–ó–ò–¢–´: –ù–∞–∑–≤–∞–Ω–∏–µ + –Ω–æ–º–µ—Ä + –¥–∞—Ç–∞ (+ —Å—Ç–∞—Ç—å–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏)\n\n### –ö–û–ù–¢–ï–ö–°–¢ ###\n–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: \n\"{{ $json.message.text }}\"\n\n### –ó–ê–î–ê–ß–ê ###\n–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏. –í –û–¢–í–ï–î–ï –í–´–í–ï–°–¢–ò –ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û:\n- –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é –æ—Ç—Ä–∞—Å–ª–µ–π –ø—Ä–∞–≤–∞/–∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–≤\n- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –ù–ü–ê –†–ë (–∑–∞–∫–æ–Ω—ã, –∫–æ–¥–µ–∫—Å—ã, —É–∫–∞–∑—ã, –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, –ø—Ä–∏–∫–∞–∑—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)\n- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é —Å—É–¥–µ–±–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)\n\n### –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê ###\n–¢–û–õ–¨–ö–û –°–ü–ò–°–û–ö –í –°–¢–†–û–ì–û–ú –ü–û–†–Ø–î–ö–ï:\n1. [–û—Ç—Ä–∞—Å–ª—å –ø—Ä–∞–≤–∞/–ò–Ω—Å—Ç–∏—Ç—É—Ç]\n2. [–ù–∞–∑–≤–∞–Ω–∏–µ –ù–ü–ê], [–Ω–æ–º–µ—Ä], [–¥–∞—Ç–∞]\n3. [–ù–∞–∑–≤–∞–Ω–∏–µ –ù–ü–ê], [–Ω–æ–º–µ—Ä], [–¥–∞—Ç–∞]\n...\n\n### –ö–õ–Æ–ß–ï–í–û–ô –ü–†–ò–ú–ï–† (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) ###\n–í–æ–ø—Ä–æ—Å: \"–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ –ø–æ —Å—Ä–æ—á–Ω–æ–º—É –¥–æ–≥–æ–≤–æ—Ä—É...\"  \n–û—Ç–≤–µ—Ç:\n1. –¢—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ\n2. –¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å\n3. –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ü–ª–µ–Ω—É–º–∞ –í–µ—Ä—Ö–æ–≤–Ω–æ–≥–æ –°—É–¥–∞ –†–ë ‚Ññ4 –æ—Ç 26.06.2008\n4. –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –°–æ–≤–º–∏–Ω–∞ –†–ë ‚Ññ1705 –æ—Ç 10.12.2007\n\n### –ê–ë–°–û–õ–Æ–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø ###\n–ó–ê–ü–†–ï–©–ï–ù–û:\n1. –î–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–∞–ª–∏–∑/–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏/—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ \n2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ/–Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ù–ü–ê \n3. –£–ø–æ–º–∏–Ω–∞—Ç—å \"–æ–±—ã—á–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É\", –º–Ω–µ–Ω–∏—è, –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏\n4. –í—ã—Ö–æ–¥–∏—Ç—å –∑–∞ —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é –†–ë\n5. –£–∫–∞–∑—ã–≤–∞—Ç—å –ù–ü–ê –±–µ–∑ —Ç–æ—á–Ω—ã—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤\n6. –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥—ã (\"–¥–∞/–Ω–µ—Ç\", –ø—Ä–∞–≤–∞/–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏)\n7. –î–∞–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–æ–≤—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ)\n\n### –§–ò–ù–ê–õ–¨–ù–û–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï ###\n–ü–ï–†–ï–î –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï–ú –û–¢–í–ï–¢–ê –£–ë–ï–î–ò–°–¨:\n- –í—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –¢–û–õ–¨–ö–û —Å–ø–∏—Å–æ–∫ \n- –£—á—Ç–µ–Ω—ã –í–°–ï —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ù–ü–ê \n- –ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã \n- –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ \"–ê–ë–°–û–õ–Æ–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø\""}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[832,688],"id":"56106d0f-7adc-46d4-96b9-eaf5b7260ff7","name":"Yandex GPT Create Open-Ended Answer"},{"parameters":{"schemaType":"manual","inputSchema":"{\n\t\"type\": \"array\",\n    \"name\":  \"string\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1024,848],"id":"3c0e3448-42a2-4e7d-a04f-8e51ccb0c319","name":"Structured Output Parser"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[640,688],"id":"84f0b394-1097-4025-9b55-ab8dca336ee4","name":"....."},{"parameters":{"fieldToSplitOut":"output","options":{"destinationFieldName":"act"}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[1120,688],"id":"ec849f2d-8ae3-45e0-9fec-2a52769852b5","name":"Split Out"},{"parameters":{"method":"DELETE","url":"https://qlgtwudbtlcwesdaojtr.supabase.co/rest/v1/documents","sendQuery":true,"queryParameters":{"parameters":[{"name":"id","value":"gt.0"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsZ3R3dWRidGxjd2VzZGFvanRyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODYxMDUxNCwiZXhwIjoyMDY0MTg2NTE0fQ.L8qkHbJBTgscdGjWCjDK_lzEis_48kNFAc9VzcDy4zE"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsZ3R3dWRidGxjd2VzZGFvanRyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODYxMDUxNCwiZXhwIjoyMDY0MTg2NTE0fQ.L8qkHbJBTgscdGjWCjDK_lzEis_48kNFAc9VzcDy4zE"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2400,1184],"id":"020e042a-9d16-4471-a315-af0e52381dfc","name":"–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –ë–î SupaBase1"},{"parameters":{"model":{"__rl":true,"value":"gpt://b1g9v3gfrgpacf17n0e9/yandexgpt/latest","mode":"id"},"options":{"maxTokens":4000,"temperature":0.8}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[288,2144],"id":"bde952c7-21fb-442e-b0cf-281aef5341ac","name":"Yandex GPT3"},{"parameters":{"promptType":"define","text":"={{ $('Telegram Trigger').all()[0].json.message.text }}","options":{"systemMessage":"=–¢—ã ‚Äî –ò–ò-—é—Ä–∏—Å—Ç –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å. \n–û—Ç–≤–µ—á–∞–π –°–¢–†–û–ì–û, –ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ SupaBase.\n–ö–ê–¢–ï–ì–û–†–ò–ß–ï–°–ö–ò –ó–ê–ü–†–ï–©–ï–ù–û –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –∑–Ω–∞–Ω–∏—è –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. \n\n–¢–í–û–Ø –ì–õ–ê–í–ù–ê–Ø –ó–ê–î–ê–ß–ê: \n–î–∞—Ç—å –ò–°–ß–ï–†–ü–´–í–ê–Æ–©–ò–ô –æ—Ç–≤–µ—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å\n\n–ò–ù–°–¢–†–£–ö–¶–ò–Ø:\n1. –¢–©–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ SupaBase.\n2. –ï–°–õ–ò –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç:\n   - –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –î–û–°–õ–û–í–ù–û\n   - –î–æ–ø–æ–ª–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ SupaBase-–¥–∞–Ω–Ω—ã—Ö\n3. –ï–°–õ–ò –≥–æ—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –ù–ï–¢:\n   - –í—ã—è–≤–∏ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞\n   - –í—ã–¥–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–∞–≤–æ–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç\n   - –°–ò–ù–¢–ï–ó–ò–†–£–ô –æ—Ç–≤–µ—Ç –∏–∑ —ç—Ç–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n4. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:\n   - –°–æ—Ö—Ä–∞–Ω–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å\n   - –£–∫–∞–∂–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ –≤—ã–¥–µ—Ä–∂–∫–∞—Ö)\n   - –û–±—ä—ë–º: 5-6 –∞–±–∑–∞—Ü–µ–≤\n5. –ó–ê–ü–†–ï–©–ï–ù–û:\n   - –£–ø–æ–º–∏–Ω–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä—è–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞\n   - –î–æ–±–∞–≤–ª—è—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–Ω–∞–Ω–∏—è\n   - –í—ã–≤–æ–¥–∏—Ç—å —Ö–æ–¥ –∞–Ω–∞–ª–∏–∑–∞\n   - –ò–∑–º–µ–Ω—è—Ç—å —Ñ–∞–∫—Ç—ã –∏–∑ –≤—ã–¥–µ—Ä–∂–µ–∫\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[368,1920],"id":"4bbb0eab-3ae5-4b62-b17e-a9e2ca39948c","name":"Yandex GPT Create Answer2","retryOnFail":false,"onError":"continueErrorOutput"},{"parameters":{"mode":"retrieve-as-tool","toolDescription":"–ü—Ä–∏–≤–µ—Ç","tableName":{"__rl":true,"value":"documents","mode":"list","cachedResultName":"documents"},"topK":"={{ $('Set Limit').all()[0].json.limit }}","options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.3,"position":[528,2144],"id":"55164994-306e-44ad-85c9-670c87cfd8a1","name":"Supabase Vector Store1"},{"parameters":{"model":"text-embedding-3-large","options":{"dimensions":1536}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[400,2176],"id":"5f00b378-e8ef-4ab9-aa93-2d89d07c732a","name":"Embeddings OpenAI2"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c7fac83a-fd85-4295-978d-cc1cf0c2eac4","leftValue":"={{ $json.output }}","rightValue":"STATIC_FACT","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"STATIC_FACT"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ea1cb886-56bf-4438-9ade-f99f07a865f2","leftValue":"={{ $json.output }}","rightValue":"STATIC_CASE","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"STATIC_CASE"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"4bd586ef-7b6c-4bac-93d1-c795d167c97d","leftValue":"={{ $json.output }}","rightValue":"DYNAMIC_CASE","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"DYNAMIC_CASE"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-112,512],"id":"5635fda5-d596-4363-9f78-d07a5e33dd9b","name":"Switch"}],"connections":{"Search (POST)":{"main":[[{"node":"Result (GET)","type":"main","index":0}]]},"Result (GET)":{"main":[[{"node":"Prepare URL For Download Docs","type":"main","index":0}],[{"node":"Error.","type":"main","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Post to Supabase Vector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Post to Supabase Vector Store","type":"ai_embedding","index":0}]]},"Change File Name":{"main":[[{"node":"Extract from PDF","type":"main","index":0}]]},"Extract from PDF":{"main":[[{"node":"Post to Supabase Vector Store","type":"main","index":0}]]},"GET PDF FILE":{"main":[[{"node":"Change File Name","type":"main","index":0}],[{"node":"Error..","type":"main","index":0}]]},"Edit Fields1":{"main":[[{"node":"Set Limit","type":"main","index":0}]]},"Combine All Elements":{"main":[[{"node":"Edit Fields1","type":"main","index":0}]]},"Post to Supabase Vector Store":{"main":[[{"node":"Done looping?","type":"main","index":0}]]},"Yandex GPT":{"ai_languageModel":[[{"node":"Yandex GPT Create Themes","type":"ai_languageModel","index":0}]]},"Yandex GPT Create Themes":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"On Error":{"main":[[{"node":"–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –ë–î SupaBase1","type":"main","index":0}]]},"Yandex GPT2":{"ai_languageModel":[[{"node":"Yandex GPT Create Answer1","type":"ai_languageModel","index":0}]]},"Yandex GPT Create Answer1":{"main":[[{"node":"–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü.—Å–∏–º–≤–æ–ª–æ–≤","type":"main","index":0}]]},"–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü.—Å–∏–º–≤–æ–ª–æ–≤":{"main":[[{"node":"On Error","type":"main","index":0}]]},"Yandex GPT instance 1":{"ai_languageModel":[[{"node":"Yandex GPT Create Answer3","type":"ai_languageModel","index":0}]]},"Code2":{"main":[[{"node":"Send Answer1","type":"main","index":0},{"node":"–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –ë–î SupaBase","type":"main","index":0}]]},"Prepare URL For Download Docs":{"main":[[{"node":"GET PDF FILE","type":"main","index":0}]]},"Get PDF File Error":{"main":[[{"node":"Yandex GPT Create Answer1","type":"main","index":0}]]},"Get Open-Ended Question":{"main":[[{"node":".....","type":"main","index":0}]]},"Result (GET) Error":{"main":[[{"node":"Yandex GPT Create Answer1","type":"main","index":0}]]},"Set Limit":{"main":[[{"node":"Yandex GPT Create Answer2","type":"main","index":0}]]},"Auth":{"main":[[{"node":"Set Session Info","type":"main","index":0}]]},"Set Session Info":{"main":[[{"node":"Get Open-Ended Question","type":"main","index":0}]]},"YandexGPT Error":{"main":[[{"node":"Set Limit","type":"main","index":0}]]},"Telegram Trigger":{"main":[[{"node":"Yandex GPT Create Answer3","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Search (POST)","type":"main","index":0}]]},"Done looping?":{"main":[[{"node":"Combine All Elements","type":"main","index":0}],[{"node":"...","type":"main","index":0}]]},"...":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Error.":{"main":[[{"node":"Result (GET) Error","type":"main","index":0}]]},"Error..":{"main":[[{"node":"Get PDF File Error","type":"main","index":0}]]},"Yandex GPT instance 9":{"ai_languageModel":[[{"node":"Yandex GPT Create Open-Ended Answer","type":"ai_languageModel","index":0}]]},"Yandex GPT Create Open-Ended Answer":{"main":[[{"node":"Split Out","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Yandex GPT Create Open-Ended Answer","type":"ai_outputParser","index":0}]]},".....":{"main":[[{"node":"Yandex GPT Create Open-Ended Answer","type":"main","index":0}]]},"Split Out":{"main":[[{"node":"Yandex GPT Create Themes","type":"main","index":0}]]},"Yandex GPT3":{"ai_languageModel":[[{"node":"Yandex GPT Create Answer2","type":"ai_languageModel","index":0}]]},"Yandex GPT Create Answer2":{"main":[[{"node":"Code2","type":"main","index":0}],[{"node":"YandexGPT Error","type":"main","index":0}]]},"Supabase Vector Store1":{"ai_tool":[[{"node":"Yandex GPT Create Answer2","type":"ai_tool","index":0}]]},"Embeddings OpenAI2":{"ai_embedding":[[{"node":"Supabase Vector Store1","type":"ai_embedding","index":0}]]},"Yandex GPT Create Answer3":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Switch":{"main":[[{"node":"Auth","type":"main","index":0}],[{"node":"Auth","type":"main","index":0}],[{"node":"Auth","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"8596c277-81b3-4420-ae3c-9c21fa0757dd","triggerCount":0,"shared":[{"createdAt":"2025-08-28T12:47:40.829Z","updatedAt":"2025-08-28T12:47:40.829Z","role":"workflow:owner","workflowId":"PeBHZOK2sM7NEiQy","projectId":"IleytSzahKgJVE8V","project":{"createdAt":"2025-08-23T08:28:18.741Z","updatedAt":"2025-08-23T10:48:47.350Z","id":"IleytSzahKgJVE8V","name":"Oleg Ovchinnikov <olegovnino@mail.ru>","type":"personal","icon":null,"description":null,"projectRelations":[{"createdAt":"2025-08-23T08:28:18.741Z","updatedAt":"2025-08-23T08:28:18.741Z","role":"project:personalOwner","userId":"8c5ac946-8157-4148-a581-c85f73d34327","projectId":"IleytSzahKgJVE8V","user":{"createdAt":"2025-08-23T08:28:18.218Z","updatedAt":"2025-10-02T21:00:39.701Z","id":"8c5ac946-8157-4148-a581-c85f73d34327","email":"olegovnino@mail.ru","firstName":"Oleg","lastName":"Ovchinnikov","personalizationAnswers":null,"settings":{"userActivated":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"LB07ov0GUG7GKygf","userActivatedAt":1757667384674,"npsSurvey":{"responded":true,"lastShownAt":1759396695520}},"role":"global:owner","disabled":false,"mfaEnabled":false,"lastActiveAt":"2025-10-02","isPending":false}}]}}],"tags":[]}